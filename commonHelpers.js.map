{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45522161-5a4b1fd5e13efcf8857e5e3e0';\n\nexport const fetchImages = (query) => {\n    return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`Error: ${response.status}`);\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            throw error;\n        });\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from 'izitoast';\n\nconst imageGallery = document.querySelector('.gallery');\n\nlet lightbox;\n\nexport const createGalleryCard = (pictureInfo) => {\n    return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${pictureInfo.largeImageURL}\">\n                <img\n                class=\"gallery-image\"\n                src=\"${pictureInfo.webformatURL}\"\n                data-source=\"${pictureInfo.largeImageURL}\"\n                alt=\"${pictureInfo.tags}\"\n                />\n            </a>\n            <div class=\"info\">\n                <p class=\"text-info\">Likes: <span class=\"number-info\">${pictureInfo.likes}</span></p>\n                <p class=\"text-info\">Views: <span class=\"number-info\">${pictureInfo.views}</span></p>\n                <p class=\"text-info\">Comments: <span class=\"number-info\">${pictureInfo.comments}</span></p>\n                <p class=\"text-info\">Downloads: <span class=\"number-info\">${pictureInfo.downloads}</span></p>\n            </div>\n        </li>`;\n};\n\nexport const renderGallery = (images) => {\n    imageGallery.innerHTML = \"\";\n\n    if (images.length === 0) {\n        iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: 'topRight',\n        });\n        return;\n    }\n\n    const galleryCardsTemplate = images.map(createGalleryCard).join('');\n    imageGallery.innerHTML = galleryCardsTemplate;\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionPosition: 'bottom',\n            captionDelay: 250,\n            overlayOpacity: 0.8,\n        });\n    } \n\n    lightbox.refresh();\n};","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nconst showLoader = () => {\n    loader.classList.remove('hidden');\n};\n\nconst hideLoader = () => {\n    loader.classList.add('hidden');\n};\n\nconst onSearchForm = (event) => {\n    event.preventDefault();\n    const searchValue = searchForm.elements.user_query.value.trim();\n\n    if (!searchValue) {\n        return; \n    }\n\n    showLoader();\n\n    fetchImages(searchValue)\n        .then(data => {\n            renderGallery(data.hits);\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.error({\n                message: \"Something went wrong. Please try again later.\",\n                position: 'topRight'\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            searchForm.reset();\n        });\n};\n\nsearchForm.addEventListener('submit', onSearchForm);"],"names":["API_KEY","fetchImages","query","response","error","imageGallery","lightbox","createGalleryCard","pictureInfo","renderGallery","images","iziToast","galleryCardsTemplate","SimpleLightbox","searchForm","loader","showLoader","hideLoader","onSearchForm","event","searchValue","data"],"mappings":"6vBAAA,MAAMA,EAAU,qCAEHC,EAAeC,GACjB,MAAM,gCAAgCF,CAAO,MAAME,CAAK,0DAA0D,EACpH,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,UAAUA,EAAS,MAAM,EAAE,EAE/C,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CAClB,CAAS,ECRHC,EAAe,SAAS,cAAc,UAAU,EAEtD,IAAIC,EAEG,MAAMC,EAAqBC,GACvB;AAAA,4CACiCA,EAAY,aAAa;AAAA;AAAA;AAAA,uBAG9CA,EAAY,YAAY;AAAA,+BAChBA,EAAY,aAAa;AAAA,uBACjCA,EAAY,IAAI;AAAA;AAAA;AAAA;AAAA,wEAIiCA,EAAY,KAAK;AAAA,wEACjBA,EAAY,KAAK;AAAA,2EACdA,EAAY,QAAQ;AAAA,4EACnBA,EAAY,SAAS;AAAA;AAAA,eAKpFC,EAAiBC,GAAW,CAGrC,GAFAL,EAAa,UAAY,GAErBK,EAAO,SAAW,EAAG,CACrBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MACH,CAED,MAAMC,EAAuBF,EAAO,IAAIH,CAAiB,EAAE,KAAK,EAAE,EAClEF,EAAa,UAAYO,EAEpBN,IACDA,EAAW,IAAIO,EAAe,aAAc,CACxC,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EAC5B,CAAS,GAGLP,EAAS,QAAO,CACpB,ECjDMQ,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAa,IAAM,CACrBD,EAAO,UAAU,OAAO,QAAQ,CACpC,EAEME,EAAa,IAAM,CACrBF,EAAO,UAAU,IAAI,QAAQ,CACjC,EAEMG,EAAgBC,GAAU,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAcN,EAAW,SAAS,WAAW,MAAM,OAEpDM,IAILJ,IAEAf,EAAYmB,CAAW,EAClB,KAAKC,GAAQ,CACVZ,EAAcY,EAAK,IAAI,CACnC,CAAS,EACA,MAAMjB,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,SAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXa,IACAH,EAAW,MAAK,CAC5B,CAAS,EACT,EAEAA,EAAW,iBAAiB,SAAUI,CAAY"}